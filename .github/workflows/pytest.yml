name: test

on: 
  workflow_call:

defaults:
  run:
    shell: bash

env:
  LANG: en_US.utf-8
  LC_ALL: en_US.utf-8
  PYTHONIOENCODING: UTF-8

jobs:
    testing:
        runs-on: ${{ matrix.os }}
        strategy:
          matrix:
            python-version: ['3.9', '3.10', '3.11']
            os: [ubuntu-latest, macOS-latest, windows-latest]
    
        steps:
        - name: Set up PDM
          uses: pdm-project/setup-pdm@v2
          with:
            python-version: ${{ matrix.python-version }}
    
        - name: Install dependencies
          run: |
            pdm sync -d -G testing
        - name: Run tests
          run: |
            pdm run -v pytest tests

  